---
import { NAV_LINKS } from "@lib/site";
import { Icon } from "astro-icon";
const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1, 2); // remove the first "/"
---

<header
  class="z-10 items-center bg-branding-gray-200 grid-in-header h-[52px] 2xl:h-[62px]"
>
  <div class="flex items-center justify-between h-full">
    <button
      class="bg-purple-200 justify-start h-full p-3 2xl:p-4 transition-all duration-75 hover:bg-purple-300 lg:hidden"
      aria-label="Mobile Sidebar Toggle Button"
    >
      <Icon name="mdi:menu" class="h-5 w-5" aria-label="Sidebar toggle logo" />
    </button>
    <nav class="lg:ml-3 items-center hidden h-full space-x-3 lg:flex">
      {
        NAV_LINKS.map((link) => (
          <a
            href={link.href}
            class:list={`h-full p-3 shrink-0 transition-colors duration-150 hover:bg-branding-gray-300 ${
              link.href.slice(1) === currentPath
                ? "border-b-2 border-blue-500"
                : ""
            }
              `}
          >
            {link.name}
          </a>
        ))
      }
    </nav>
    <button
      class="bg-purple-200 justify-end h-full p-3 2xl:p-4 transition-all duration-75 hover:bg-purple-300"
      @click="darkMode = !darkMode"
    >
      <Icon name="mdi:white-balance-sunny" class="h-5 w-5" />
    </button>
  </div>
</header>
